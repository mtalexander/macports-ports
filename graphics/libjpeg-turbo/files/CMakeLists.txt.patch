--- CMakeLists.txt.orig	2020-11-17 10:38:06.000000000 +1100
+++ CMakeLists.txt	2021-01-19 17:13:05.000000000 +1100
@@ -40,6 +40,9 @@
 
 # Detect CPU type and whether we're building 64-bit or 32-bit code
 math(EXPR BITS "${CMAKE_SIZEOF_VOID_P} * 8")
+if(DEFINED OVERRIDE_SYSTEM_PROCESSOR)
+set(CMAKE_SYSTEM_PROCESSOR ${OVERRIDE_SYSTEM_PROCESSOR})
+endif()
 string(TOLOWER ${CMAKE_SYSTEM_PROCESSOR} CMAKE_SYSTEM_PROCESSOR_LC)
 if(CMAKE_SYSTEM_PROCESSOR_LC MATCHES "x86_64" OR
   CMAKE_SYSTEM_PROCESSOR_LC MATCHES "amd64" OR
