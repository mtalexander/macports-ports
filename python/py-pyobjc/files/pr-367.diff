From 5609a6a3e28aecf33c363336c0869d97e8cbe212 Mon Sep 17 00:00:00 2001
From: ericth <ericth@google.com>
Date: Wed, 9 Jun 2021 18:53:54 +0800
Subject: [PATCH] Fix setup error by slicing the first two version integers
 from the version list.

On MacOS 11.4 with Xcode 13 beta 1,
the version in the *.plist file will be "10.15.4".
It results in the string formatting error.
This changes take the first two version integers
to resolve the formatting error.
---
 pyobjc-core/setup.py                                        | 4 ++--
 pyobjc-framework-AVFoundation/pyobjc_setup.py               | 6 +++---
 pyobjc-framework-AVKit/pyobjc_setup.py                      | 6 +++---
 pyobjc-framework-Accessibility/pyobjc_setup.py              | 6 +++---
 pyobjc-framework-Accounts/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-AdServices/pyobjc_setup.py                 | 6 +++---
 pyobjc-framework-AdSupport/pyobjc_setup.py                  | 6 +++---
 pyobjc-framework-AddressBook/pyobjc_setup.py                | 6 +++---
 pyobjc-framework-AppTrackingTransparency/pyobjc_setup.py    | 6 +++---
 pyobjc-framework-AppleScriptKit/pyobjc_setup.py             | 6 +++---
 pyobjc-framework-AppleScriptObjC/pyobjc_setup.py            | 6 +++---
 pyobjc-framework-ApplicationServices/pyobjc_setup.py        | 6 +++---
 pyobjc-framework-AuthenticationServices/pyobjc_setup.py     | 6 +++---
 .../pyobjc_setup.py                                         | 6 +++---
 pyobjc-framework-Automator/pyobjc_setup.py                  | 6 +++---
 pyobjc-framework-BusinessChat/pyobjc_setup.py               | 6 +++---
 pyobjc-framework-CFNetwork/pyobjc_setup.py                  | 6 +++---
 pyobjc-framework-CalendarStore/pyobjc_setup.py              | 6 +++---
 pyobjc-framework-CallKit/pyobjc_setup.py                    | 6 +++---
 pyobjc-framework-ClassKit/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-CloudKit/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-Cocoa/pyobjc_setup.py                      | 6 +++---
 pyobjc-framework-Collaboration/pyobjc_setup.py              | 6 +++---
 pyobjc-framework-ColorSync/pyobjc_setup.py                  | 6 +++---
 pyobjc-framework-Contacts/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-ContactsUI/pyobjc_setup.py                 | 6 +++---
 pyobjc-framework-CoreAudio/pyobjc_setup.py                  | 6 +++---
 pyobjc-framework-CoreAudioKit/pyobjc_setup.py               | 6 +++---
 pyobjc-framework-CoreBluetooth/pyobjc_setup.py              | 6 +++---
 pyobjc-framework-CoreData/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-CoreHaptics/pyobjc_setup.py                | 6 +++---
 pyobjc-framework-CoreLocation/pyobjc_setup.py               | 6 +++---
 pyobjc-framework-CoreMIDI/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-CoreML/pyobjc_setup.py                     | 6 +++---
 pyobjc-framework-CoreMedia/pyobjc_setup.py                  | 6 +++---
 pyobjc-framework-CoreMediaIO/pyobjc_setup.py                | 6 +++---
 pyobjc-framework-CoreMotion/pyobjc_setup.py                 | 6 +++---
 pyobjc-framework-CoreServices/pyobjc_setup.py               | 6 +++---
 pyobjc-framework-CoreSpotlight/pyobjc_setup.py              | 6 +++---
 pyobjc-framework-CoreText/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-CoreWLAN/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-CryptoTokenKit/pyobjc_setup.py             | 6 +++---
 pyobjc-framework-DVDPlayback/pyobjc_setup.py                | 6 +++---
 pyobjc-framework-DeviceCheck/pyobjc_setup.py                | 6 +++---
 pyobjc-framework-DictionaryServices/pyobjc_setup.py         | 6 +++---
 pyobjc-framework-DiscRecording/pyobjc_setup.py              | 6 +++---
 pyobjc-framework-DiscRecordingUI/pyobjc_setup.py            | 6 +++---
 pyobjc-framework-DiskArbitration/pyobjc_setup.py            | 6 +++---
 pyobjc-framework-EventKit/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-ExceptionHandling/pyobjc_setup.py          | 6 +++---
 pyobjc-framework-ExecutionPolicy/pyobjc_setup.py            | 6 +++---
 pyobjc-framework-ExternalAccessory/pyobjc_setup.py          | 6 +++---
 pyobjc-framework-FSEvents/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-FileProvider/pyobjc_setup.py               | 6 +++---
 pyobjc-framework-FileProviderUI/pyobjc_setup.py             | 6 +++---
 pyobjc-framework-FinderSync/pyobjc_setup.py                 | 6 +++---
 pyobjc-framework-GameCenter/pyobjc_setup.py                 | 6 +++---
 pyobjc-framework-GameController/pyobjc_setup.py             | 6 +++---
 pyobjc-framework-GameKit/pyobjc_setup.py                    | 6 +++---
 pyobjc-framework-GameplayKit/pyobjc_setup.py                | 6 +++---
 pyobjc-framework-IMServicePlugIn/pyobjc_setup.py            | 6 +++---
 pyobjc-framework-IOSurface/pyobjc_setup.py                  | 6 +++---
 pyobjc-framework-ImageCaptureCore/pyobjc_setup.py           | 6 +++---
 pyobjc-framework-InputMethodKit/pyobjc_setup.py             | 6 +++---
 pyobjc-framework-InstallerPlugins/pyobjc_setup.py           | 6 +++---
 pyobjc-framework-InstantMessage/pyobjc_setup.py             | 6 +++---
 pyobjc-framework-Intents/pyobjc_setup.py                    | 6 +++---
 pyobjc-framework-InterfaceBuilderKit/pyobjc_setup.py        | 6 +++---
 pyobjc-framework-KernelManagement/pyobjc_setup.py           | 6 +++---
 pyobjc-framework-LatentSemanticMapping/pyobjc_setup.py      | 6 +++---
 pyobjc-framework-LaunchServices/pyobjc_setup.py             | 6 +++---
 pyobjc-framework-LinkPresentation/pyobjc_setup.py           | 6 +++---
 pyobjc-framework-LocalAuthentication/pyobjc_setup.py        | 6 +++---
 pyobjc-framework-MLCompute/pyobjc_setup.py                  | 6 +++---
 pyobjc-framework-MapKit/pyobjc_setup.py                     | 6 +++---
 pyobjc-framework-MediaAccessibility/pyobjc_setup.py         | 6 +++---
 pyobjc-framework-MediaLibrary/pyobjc_setup.py               | 6 +++---
 pyobjc-framework-MediaPlayer/pyobjc_setup.py                | 6 +++---
 pyobjc-framework-MediaToolbox/pyobjc_setup.py               | 6 +++---
 pyobjc-framework-Message/pyobjc_setup.py                    | 6 +++---
 pyobjc-framework-Metal/pyobjc_setup.py                      | 6 +++---
 pyobjc-framework-MetalKit/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-MetalPerformanceShaders/pyobjc_setup.py    | 6 +++---
 .../pyobjc_setup.py                                         | 6 +++---
 pyobjc-framework-ModelIO/pyobjc_setup.py                    | 6 +++---
 pyobjc-framework-MultipeerConnectivity/pyobjc_setup.py      | 6 +++---
 pyobjc-framework-NaturalLanguage/pyobjc_setup.py            | 6 +++---
 pyobjc-framework-NetFS/pyobjc_setup.py                      | 6 +++---
 pyobjc-framework-Network/pyobjc_setup.py                    | 6 +++---
 pyobjc-framework-NetworkExtension/pyobjc_setup.py           | 6 +++---
 pyobjc-framework-NotificationCenter/pyobjc_setup.py         | 6 +++---
 pyobjc-framework-OSAKit/pyobjc_setup.py                     | 6 +++---
 pyobjc-framework-OSLog/pyobjc_setup.py                      | 6 +++---
 pyobjc-framework-OpenDirectory/pyobjc_setup.py              | 6 +++---
 pyobjc-framework-PassKit/pyobjc_setup.py                    | 6 +++---
 pyobjc-framework-PencilKit/pyobjc_setup.py                  | 6 +++---
 pyobjc-framework-Photos/pyobjc_setup.py                     | 6 +++---
 pyobjc-framework-PhotosUI/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-PreferencePanes/pyobjc_setup.py            | 6 +++---
 pyobjc-framework-PubSub/pyobjc_setup.py                     | 6 +++---
 pyobjc-framework-PushKit/pyobjc_setup.py                    | 6 +++---
 pyobjc-framework-Quartz/pyobjc_setup.py                     | 6 +++---
 pyobjc-framework-QuickLookThumbnailing/pyobjc_setup.py      | 6 +++---
 pyobjc-framework-ReplayKit/pyobjc_setup.py                  | 6 +++---
 pyobjc-framework-SafariServices/pyobjc_setup.py             | 6 +++---
 pyobjc-framework-SceneKit/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-ScreenSaver/pyobjc_setup.py                | 6 +++---
 pyobjc-framework-ScreenTime/pyobjc_setup.py                 | 6 +++---
 pyobjc-framework-ScriptingBridge/pyobjc_setup.py            | 6 +++---
 pyobjc-framework-SearchKit/pyobjc_setup.py                  | 6 +++---
 pyobjc-framework-Security/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-SecurityFoundation/pyobjc_setup.py         | 6 +++---
 pyobjc-framework-SecurityInterface/pyobjc_setup.py          | 6 +++---
 pyobjc-framework-ServerNotification/pyobjc_setup.py         | 6 +++---
 pyobjc-framework-ServiceManagement/pyobjc_setup.py          | 6 +++---
 pyobjc-framework-Social/pyobjc_setup.py                     | 6 +++---
 pyobjc-framework-SoundAnalysis/pyobjc_setup.py              | 6 +++---
 pyobjc-framework-Speech/pyobjc_setup.py                     | 6 +++---
 pyobjc-framework-SpriteKit/pyobjc_setup.py                  | 6 +++---
 pyobjc-framework-StoreKit/pyobjc_setup.py                   | 6 +++---
 pyobjc-framework-SyncServices/pyobjc_setup.py               | 6 +++---
 pyobjc-framework-SystemConfiguration/pyobjc_setup.py        | 6 +++---
 pyobjc-framework-SystemExtensions/pyobjc_setup.py           | 6 +++---
 pyobjc-framework-UniformTypeIdentifiers/pyobjc_setup.py     | 6 +++---
 pyobjc-framework-UserNotifications/pyobjc_setup.py          | 6 +++---
 pyobjc-framework-UserNotificationsUI/pyobjc_setup.py        | 6 +++---
 pyobjc-framework-VideoSubscriberAccount/pyobjc_setup.py     | 6 +++---
 pyobjc-framework-VideoToolbox/pyobjc_setup.py               | 6 +++---
 pyobjc-framework-Virtualization/pyobjc_setup.py             | 6 +++---
 pyobjc-framework-Vision/pyobjc_setup.py                     | 6 +++---
 pyobjc-framework-WebKit/pyobjc_setup.py                     | 6 +++---
 pyobjc-framework-iTunesLibrary/pyobjc_setup.py              | 6 +++---
 pyobjc-framework-libdispatch/pyobjc_setup.py                | 6 +++---
 133 files changed, 398 insertions(+), 398 deletions(-)

diff --git pyobjc-core/setup.py b/pyobjc-core/setup.py
index 6183ba97e..9a4500f8d 100644
--- pyobjc-core/setup.py
+++ pyobjc-core/setup.py
@@ -552,11 +552,11 @@ def run(self):
 
         CFLAGS.append(
             "-DPyObjC_BUILD_RELEASE=%02d%02d"
-            % (tuple(map(int, get_sdk_level(self.sdk_root).split("."))))
+            % (tuple(map(int, get_sdk_level(self.sdk_root).split(".")[:2])))
         )
         EXT_CFLAGS.append(
             "-DPyObjC_BUILD_RELEASE=%02d%02d"
-            % (tuple(map(int, get_sdk_level(self.sdk_root).split("."))))
+            % (tuple(map(int, get_sdk_level(self.sdk_root).split(".")[:2])))
         )
 
         _fixup_compiler(use_ccache=any(cmd in sys.argv for cmd in ["develop", "test"]))
diff --git pyobjc-framework-AVFoundation/pyobjc_setup.py b/pyobjc-framework-AVFoundation/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-AVFoundation/pyobjc_setup.py
+++ pyobjc-framework-AVFoundation/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-AVKit/pyobjc_setup.py b/pyobjc-framework-AVKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-AVKit/pyobjc_setup.py
+++ pyobjc-framework-AVKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Accessibility/pyobjc_setup.py b/pyobjc-framework-Accessibility/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Accessibility/pyobjc_setup.py
+++ pyobjc-framework-Accessibility/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Accounts/pyobjc_setup.py b/pyobjc-framework-Accounts/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Accounts/pyobjc_setup.py
+++ pyobjc-framework-Accounts/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-AdServices/pyobjc_setup.py b/pyobjc-framework-AdServices/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-AdServices/pyobjc_setup.py
+++ pyobjc-framework-AdServices/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-AdSupport/pyobjc_setup.py b/pyobjc-framework-AdSupport/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-AdSupport/pyobjc_setup.py
+++ pyobjc-framework-AdSupport/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-AddressBook/pyobjc_setup.py b/pyobjc-framework-AddressBook/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-AddressBook/pyobjc_setup.py
+++ pyobjc-framework-AddressBook/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-AppTrackingTransparency/pyobjc_setup.py b/pyobjc-framework-AppTrackingTransparency/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-AppTrackingTransparency/pyobjc_setup.py
+++ pyobjc-framework-AppTrackingTransparency/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-AppleScriptKit/pyobjc_setup.py b/pyobjc-framework-AppleScriptKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-AppleScriptKit/pyobjc_setup.py
+++ pyobjc-framework-AppleScriptKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-AppleScriptObjC/pyobjc_setup.py b/pyobjc-framework-AppleScriptObjC/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-AppleScriptObjC/pyobjc_setup.py
+++ pyobjc-framework-AppleScriptObjC/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ApplicationServices/pyobjc_setup.py b/pyobjc-framework-ApplicationServices/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ApplicationServices/pyobjc_setup.py
+++ pyobjc-framework-ApplicationServices/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-AuthenticationServices/pyobjc_setup.py b/pyobjc-framework-AuthenticationServices/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-AuthenticationServices/pyobjc_setup.py
+++ pyobjc-framework-AuthenticationServices/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-AutomaticAssessmentConfiguration/pyobjc_setup.py b/pyobjc-framework-AutomaticAssessmentConfiguration/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-AutomaticAssessmentConfiguration/pyobjc_setup.py
+++ pyobjc-framework-AutomaticAssessmentConfiguration/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Automator/pyobjc_setup.py b/pyobjc-framework-Automator/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Automator/pyobjc_setup.py
+++ pyobjc-framework-Automator/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-BusinessChat/pyobjc_setup.py b/pyobjc-framework-BusinessChat/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-BusinessChat/pyobjc_setup.py
+++ pyobjc-framework-BusinessChat/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CFNetwork/pyobjc_setup.py b/pyobjc-framework-CFNetwork/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CFNetwork/pyobjc_setup.py
+++ pyobjc-framework-CFNetwork/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CalendarStore/pyobjc_setup.py b/pyobjc-framework-CalendarStore/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CalendarStore/pyobjc_setup.py
+++ pyobjc-framework-CalendarStore/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CallKit/pyobjc_setup.py b/pyobjc-framework-CallKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CallKit/pyobjc_setup.py
+++ pyobjc-framework-CallKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ClassKit/pyobjc_setup.py b/pyobjc-framework-ClassKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ClassKit/pyobjc_setup.py
+++ pyobjc-framework-ClassKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CloudKit/pyobjc_setup.py b/pyobjc-framework-CloudKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CloudKit/pyobjc_setup.py
+++ pyobjc-framework-CloudKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Cocoa/pyobjc_setup.py b/pyobjc-framework-Cocoa/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Cocoa/pyobjc_setup.py
+++ pyobjc-framework-Cocoa/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Collaboration/pyobjc_setup.py b/pyobjc-framework-Collaboration/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Collaboration/pyobjc_setup.py
+++ pyobjc-framework-Collaboration/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ColorSync/pyobjc_setup.py b/pyobjc-framework-ColorSync/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ColorSync/pyobjc_setup.py
+++ pyobjc-framework-ColorSync/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Contacts/pyobjc_setup.py b/pyobjc-framework-Contacts/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Contacts/pyobjc_setup.py
+++ pyobjc-framework-Contacts/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ContactsUI/pyobjc_setup.py b/pyobjc-framework-ContactsUI/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ContactsUI/pyobjc_setup.py
+++ pyobjc-framework-ContactsUI/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreAudio/pyobjc_setup.py b/pyobjc-framework-CoreAudio/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreAudio/pyobjc_setup.py
+++ pyobjc-framework-CoreAudio/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreAudioKit/pyobjc_setup.py b/pyobjc-framework-CoreAudioKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreAudioKit/pyobjc_setup.py
+++ pyobjc-framework-CoreAudioKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreBluetooth/pyobjc_setup.py b/pyobjc-framework-CoreBluetooth/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreBluetooth/pyobjc_setup.py
+++ pyobjc-framework-CoreBluetooth/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreData/pyobjc_setup.py b/pyobjc-framework-CoreData/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreData/pyobjc_setup.py
+++ pyobjc-framework-CoreData/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreHaptics/pyobjc_setup.py b/pyobjc-framework-CoreHaptics/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreHaptics/pyobjc_setup.py
+++ pyobjc-framework-CoreHaptics/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreLocation/pyobjc_setup.py b/pyobjc-framework-CoreLocation/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreLocation/pyobjc_setup.py
+++ pyobjc-framework-CoreLocation/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreMIDI/pyobjc_setup.py b/pyobjc-framework-CoreMIDI/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreMIDI/pyobjc_setup.py
+++ pyobjc-framework-CoreMIDI/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreML/pyobjc_setup.py b/pyobjc-framework-CoreML/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreML/pyobjc_setup.py
+++ pyobjc-framework-CoreML/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreMedia/pyobjc_setup.py b/pyobjc-framework-CoreMedia/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreMedia/pyobjc_setup.py
+++ pyobjc-framework-CoreMedia/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreMediaIO/pyobjc_setup.py b/pyobjc-framework-CoreMediaIO/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreMediaIO/pyobjc_setup.py
+++ pyobjc-framework-CoreMediaIO/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreMotion/pyobjc_setup.py b/pyobjc-framework-CoreMotion/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreMotion/pyobjc_setup.py
+++ pyobjc-framework-CoreMotion/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreServices/pyobjc_setup.py b/pyobjc-framework-CoreServices/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreServices/pyobjc_setup.py
+++ pyobjc-framework-CoreServices/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreSpotlight/pyobjc_setup.py b/pyobjc-framework-CoreSpotlight/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreSpotlight/pyobjc_setup.py
+++ pyobjc-framework-CoreSpotlight/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreText/pyobjc_setup.py b/pyobjc-framework-CoreText/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreText/pyobjc_setup.py
+++ pyobjc-framework-CoreText/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CoreWLAN/pyobjc_setup.py b/pyobjc-framework-CoreWLAN/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CoreWLAN/pyobjc_setup.py
+++ pyobjc-framework-CoreWLAN/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-CryptoTokenKit/pyobjc_setup.py b/pyobjc-framework-CryptoTokenKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-CryptoTokenKit/pyobjc_setup.py
+++ pyobjc-framework-CryptoTokenKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-DVDPlayback/pyobjc_setup.py b/pyobjc-framework-DVDPlayback/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-DVDPlayback/pyobjc_setup.py
+++ pyobjc-framework-DVDPlayback/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-DeviceCheck/pyobjc_setup.py b/pyobjc-framework-DeviceCheck/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-DeviceCheck/pyobjc_setup.py
+++ pyobjc-framework-DeviceCheck/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-DictionaryServices/pyobjc_setup.py b/pyobjc-framework-DictionaryServices/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-DictionaryServices/pyobjc_setup.py
+++ pyobjc-framework-DictionaryServices/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-DiscRecording/pyobjc_setup.py b/pyobjc-framework-DiscRecording/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-DiscRecording/pyobjc_setup.py
+++ pyobjc-framework-DiscRecording/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-DiscRecordingUI/pyobjc_setup.py b/pyobjc-framework-DiscRecordingUI/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-DiscRecordingUI/pyobjc_setup.py
+++ pyobjc-framework-DiscRecordingUI/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-DiskArbitration/pyobjc_setup.py b/pyobjc-framework-DiskArbitration/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-DiskArbitration/pyobjc_setup.py
+++ pyobjc-framework-DiskArbitration/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-EventKit/pyobjc_setup.py b/pyobjc-framework-EventKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-EventKit/pyobjc_setup.py
+++ pyobjc-framework-EventKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ExceptionHandling/pyobjc_setup.py b/pyobjc-framework-ExceptionHandling/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ExceptionHandling/pyobjc_setup.py
+++ pyobjc-framework-ExceptionHandling/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ExecutionPolicy/pyobjc_setup.py b/pyobjc-framework-ExecutionPolicy/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ExecutionPolicy/pyobjc_setup.py
+++ pyobjc-framework-ExecutionPolicy/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ExternalAccessory/pyobjc_setup.py b/pyobjc-framework-ExternalAccessory/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ExternalAccessory/pyobjc_setup.py
+++ pyobjc-framework-ExternalAccessory/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-FSEvents/pyobjc_setup.py b/pyobjc-framework-FSEvents/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-FSEvents/pyobjc_setup.py
+++ pyobjc-framework-FSEvents/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-FileProvider/pyobjc_setup.py b/pyobjc-framework-FileProvider/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-FileProvider/pyobjc_setup.py
+++ pyobjc-framework-FileProvider/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-FileProviderUI/pyobjc_setup.py b/pyobjc-framework-FileProviderUI/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-FileProviderUI/pyobjc_setup.py
+++ pyobjc-framework-FileProviderUI/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-FinderSync/pyobjc_setup.py b/pyobjc-framework-FinderSync/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-FinderSync/pyobjc_setup.py
+++ pyobjc-framework-FinderSync/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-GameCenter/pyobjc_setup.py b/pyobjc-framework-GameCenter/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-GameCenter/pyobjc_setup.py
+++ pyobjc-framework-GameCenter/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-GameController/pyobjc_setup.py b/pyobjc-framework-GameController/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-GameController/pyobjc_setup.py
+++ pyobjc-framework-GameController/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-GameKit/pyobjc_setup.py b/pyobjc-framework-GameKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-GameKit/pyobjc_setup.py
+++ pyobjc-framework-GameKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-GameplayKit/pyobjc_setup.py b/pyobjc-framework-GameplayKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-GameplayKit/pyobjc_setup.py
+++ pyobjc-framework-GameplayKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-IMServicePlugIn/pyobjc_setup.py b/pyobjc-framework-IMServicePlugIn/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-IMServicePlugIn/pyobjc_setup.py
+++ pyobjc-framework-IMServicePlugIn/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-IOSurface/pyobjc_setup.py b/pyobjc-framework-IOSurface/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-IOSurface/pyobjc_setup.py
+++ pyobjc-framework-IOSurface/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ImageCaptureCore/pyobjc_setup.py b/pyobjc-framework-ImageCaptureCore/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ImageCaptureCore/pyobjc_setup.py
+++ pyobjc-framework-ImageCaptureCore/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-InputMethodKit/pyobjc_setup.py b/pyobjc-framework-InputMethodKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-InputMethodKit/pyobjc_setup.py
+++ pyobjc-framework-InputMethodKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-InstallerPlugins/pyobjc_setup.py b/pyobjc-framework-InstallerPlugins/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-InstallerPlugins/pyobjc_setup.py
+++ pyobjc-framework-InstallerPlugins/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-InstantMessage/pyobjc_setup.py b/pyobjc-framework-InstantMessage/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-InstantMessage/pyobjc_setup.py
+++ pyobjc-framework-InstantMessage/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Intents/pyobjc_setup.py b/pyobjc-framework-Intents/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Intents/pyobjc_setup.py
+++ pyobjc-framework-Intents/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-InterfaceBuilderKit/pyobjc_setup.py b/pyobjc-framework-InterfaceBuilderKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-InterfaceBuilderKit/pyobjc_setup.py
+++ pyobjc-framework-InterfaceBuilderKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-KernelManagement/pyobjc_setup.py b/pyobjc-framework-KernelManagement/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-KernelManagement/pyobjc_setup.py
+++ pyobjc-framework-KernelManagement/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-LatentSemanticMapping/pyobjc_setup.py b/pyobjc-framework-LatentSemanticMapping/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-LatentSemanticMapping/pyobjc_setup.py
+++ pyobjc-framework-LatentSemanticMapping/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-LaunchServices/pyobjc_setup.py b/pyobjc-framework-LaunchServices/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-LaunchServices/pyobjc_setup.py
+++ pyobjc-framework-LaunchServices/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-LinkPresentation/pyobjc_setup.py b/pyobjc-framework-LinkPresentation/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-LinkPresentation/pyobjc_setup.py
+++ pyobjc-framework-LinkPresentation/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-LocalAuthentication/pyobjc_setup.py b/pyobjc-framework-LocalAuthentication/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-LocalAuthentication/pyobjc_setup.py
+++ pyobjc-framework-LocalAuthentication/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-MLCompute/pyobjc_setup.py b/pyobjc-framework-MLCompute/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-MLCompute/pyobjc_setup.py
+++ pyobjc-framework-MLCompute/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-MapKit/pyobjc_setup.py b/pyobjc-framework-MapKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-MapKit/pyobjc_setup.py
+++ pyobjc-framework-MapKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-MediaAccessibility/pyobjc_setup.py b/pyobjc-framework-MediaAccessibility/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-MediaAccessibility/pyobjc_setup.py
+++ pyobjc-framework-MediaAccessibility/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-MediaLibrary/pyobjc_setup.py b/pyobjc-framework-MediaLibrary/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-MediaLibrary/pyobjc_setup.py
+++ pyobjc-framework-MediaLibrary/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-MediaPlayer/pyobjc_setup.py b/pyobjc-framework-MediaPlayer/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-MediaPlayer/pyobjc_setup.py
+++ pyobjc-framework-MediaPlayer/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-MediaToolbox/pyobjc_setup.py b/pyobjc-framework-MediaToolbox/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-MediaToolbox/pyobjc_setup.py
+++ pyobjc-framework-MediaToolbox/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Message/pyobjc_setup.py b/pyobjc-framework-Message/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Message/pyobjc_setup.py
+++ pyobjc-framework-Message/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Metal/pyobjc_setup.py b/pyobjc-framework-Metal/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Metal/pyobjc_setup.py
+++ pyobjc-framework-Metal/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-MetalKit/pyobjc_setup.py b/pyobjc-framework-MetalKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-MetalKit/pyobjc_setup.py
+++ pyobjc-framework-MetalKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-MetalPerformanceShaders/pyobjc_setup.py b/pyobjc-framework-MetalPerformanceShaders/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-MetalPerformanceShaders/pyobjc_setup.py
+++ pyobjc-framework-MetalPerformanceShaders/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-MetalPerformanceShadersGraph/pyobjc_setup.py b/pyobjc-framework-MetalPerformanceShadersGraph/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-MetalPerformanceShadersGraph/pyobjc_setup.py
+++ pyobjc-framework-MetalPerformanceShadersGraph/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ModelIO/pyobjc_setup.py b/pyobjc-framework-ModelIO/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ModelIO/pyobjc_setup.py
+++ pyobjc-framework-ModelIO/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-MultipeerConnectivity/pyobjc_setup.py b/pyobjc-framework-MultipeerConnectivity/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-MultipeerConnectivity/pyobjc_setup.py
+++ pyobjc-framework-MultipeerConnectivity/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-NaturalLanguage/pyobjc_setup.py b/pyobjc-framework-NaturalLanguage/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-NaturalLanguage/pyobjc_setup.py
+++ pyobjc-framework-NaturalLanguage/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-NetFS/pyobjc_setup.py b/pyobjc-framework-NetFS/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-NetFS/pyobjc_setup.py
+++ pyobjc-framework-NetFS/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Network/pyobjc_setup.py b/pyobjc-framework-Network/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Network/pyobjc_setup.py
+++ pyobjc-framework-Network/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-NetworkExtension/pyobjc_setup.py b/pyobjc-framework-NetworkExtension/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-NetworkExtension/pyobjc_setup.py
+++ pyobjc-framework-NetworkExtension/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-NotificationCenter/pyobjc_setup.py b/pyobjc-framework-NotificationCenter/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-NotificationCenter/pyobjc_setup.py
+++ pyobjc-framework-NotificationCenter/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-OSAKit/pyobjc_setup.py b/pyobjc-framework-OSAKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-OSAKit/pyobjc_setup.py
+++ pyobjc-framework-OSAKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-OSLog/pyobjc_setup.py b/pyobjc-framework-OSLog/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-OSLog/pyobjc_setup.py
+++ pyobjc-framework-OSLog/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-OpenDirectory/pyobjc_setup.py b/pyobjc-framework-OpenDirectory/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-OpenDirectory/pyobjc_setup.py
+++ pyobjc-framework-OpenDirectory/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-PassKit/pyobjc_setup.py b/pyobjc-framework-PassKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-PassKit/pyobjc_setup.py
+++ pyobjc-framework-PassKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-PencilKit/pyobjc_setup.py b/pyobjc-framework-PencilKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-PencilKit/pyobjc_setup.py
+++ pyobjc-framework-PencilKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Photos/pyobjc_setup.py b/pyobjc-framework-Photos/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Photos/pyobjc_setup.py
+++ pyobjc-framework-Photos/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-PhotosUI/pyobjc_setup.py b/pyobjc-framework-PhotosUI/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-PhotosUI/pyobjc_setup.py
+++ pyobjc-framework-PhotosUI/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-PreferencePanes/pyobjc_setup.py b/pyobjc-framework-PreferencePanes/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-PreferencePanes/pyobjc_setup.py
+++ pyobjc-framework-PreferencePanes/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-PubSub/pyobjc_setup.py b/pyobjc-framework-PubSub/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-PubSub/pyobjc_setup.py
+++ pyobjc-framework-PubSub/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-PushKit/pyobjc_setup.py b/pyobjc-framework-PushKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-PushKit/pyobjc_setup.py
+++ pyobjc-framework-PushKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Quartz/pyobjc_setup.py b/pyobjc-framework-Quartz/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Quartz/pyobjc_setup.py
+++ pyobjc-framework-Quartz/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-QuickLookThumbnailing/pyobjc_setup.py b/pyobjc-framework-QuickLookThumbnailing/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-QuickLookThumbnailing/pyobjc_setup.py
+++ pyobjc-framework-QuickLookThumbnailing/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ReplayKit/pyobjc_setup.py b/pyobjc-framework-ReplayKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ReplayKit/pyobjc_setup.py
+++ pyobjc-framework-ReplayKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-SafariServices/pyobjc_setup.py b/pyobjc-framework-SafariServices/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-SafariServices/pyobjc_setup.py
+++ pyobjc-framework-SafariServices/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-SceneKit/pyobjc_setup.py b/pyobjc-framework-SceneKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-SceneKit/pyobjc_setup.py
+++ pyobjc-framework-SceneKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ScreenSaver/pyobjc_setup.py b/pyobjc-framework-ScreenSaver/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ScreenSaver/pyobjc_setup.py
+++ pyobjc-framework-ScreenSaver/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ScreenTime/pyobjc_setup.py b/pyobjc-framework-ScreenTime/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ScreenTime/pyobjc_setup.py
+++ pyobjc-framework-ScreenTime/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ScriptingBridge/pyobjc_setup.py b/pyobjc-framework-ScriptingBridge/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ScriptingBridge/pyobjc_setup.py
+++ pyobjc-framework-ScriptingBridge/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-SearchKit/pyobjc_setup.py b/pyobjc-framework-SearchKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-SearchKit/pyobjc_setup.py
+++ pyobjc-framework-SearchKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Security/pyobjc_setup.py b/pyobjc-framework-Security/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Security/pyobjc_setup.py
+++ pyobjc-framework-Security/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-SecurityFoundation/pyobjc_setup.py b/pyobjc-framework-SecurityFoundation/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-SecurityFoundation/pyobjc_setup.py
+++ pyobjc-framework-SecurityFoundation/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-SecurityInterface/pyobjc_setup.py b/pyobjc-framework-SecurityInterface/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-SecurityInterface/pyobjc_setup.py
+++ pyobjc-framework-SecurityInterface/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ServerNotification/pyobjc_setup.py b/pyobjc-framework-ServerNotification/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ServerNotification/pyobjc_setup.py
+++ pyobjc-framework-ServerNotification/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-ServiceManagement/pyobjc_setup.py b/pyobjc-framework-ServiceManagement/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-ServiceManagement/pyobjc_setup.py
+++ pyobjc-framework-ServiceManagement/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Social/pyobjc_setup.py b/pyobjc-framework-Social/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Social/pyobjc_setup.py
+++ pyobjc-framework-Social/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-SoundAnalysis/pyobjc_setup.py b/pyobjc-framework-SoundAnalysis/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-SoundAnalysis/pyobjc_setup.py
+++ pyobjc-framework-SoundAnalysis/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Speech/pyobjc_setup.py b/pyobjc-framework-Speech/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Speech/pyobjc_setup.py
+++ pyobjc-framework-Speech/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-SpriteKit/pyobjc_setup.py b/pyobjc-framework-SpriteKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-SpriteKit/pyobjc_setup.py
+++ pyobjc-framework-SpriteKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-StoreKit/pyobjc_setup.py b/pyobjc-framework-StoreKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-StoreKit/pyobjc_setup.py
+++ pyobjc-framework-StoreKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-SyncServices/pyobjc_setup.py b/pyobjc-framework-SyncServices/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-SyncServices/pyobjc_setup.py
+++ pyobjc-framework-SyncServices/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-SystemConfiguration/pyobjc_setup.py b/pyobjc-framework-SystemConfiguration/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-SystemConfiguration/pyobjc_setup.py
+++ pyobjc-framework-SystemConfiguration/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-SystemExtensions/pyobjc_setup.py b/pyobjc-framework-SystemExtensions/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-SystemExtensions/pyobjc_setup.py
+++ pyobjc-framework-SystemExtensions/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-UniformTypeIdentifiers/pyobjc_setup.py b/pyobjc-framework-UniformTypeIdentifiers/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-UniformTypeIdentifiers/pyobjc_setup.py
+++ pyobjc-framework-UniformTypeIdentifiers/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-UserNotifications/pyobjc_setup.py b/pyobjc-framework-UserNotifications/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-UserNotifications/pyobjc_setup.py
+++ pyobjc-framework-UserNotifications/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-UserNotificationsUI/pyobjc_setup.py b/pyobjc-framework-UserNotificationsUI/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-UserNotificationsUI/pyobjc_setup.py
+++ pyobjc-framework-UserNotificationsUI/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-VideoSubscriberAccount/pyobjc_setup.py b/pyobjc-framework-VideoSubscriberAccount/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-VideoSubscriberAccount/pyobjc_setup.py
+++ pyobjc-framework-VideoSubscriberAccount/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-VideoToolbox/pyobjc_setup.py b/pyobjc-framework-VideoToolbox/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-VideoToolbox/pyobjc_setup.py
+++ pyobjc-framework-VideoToolbox/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Virtualization/pyobjc_setup.py b/pyobjc-framework-Virtualization/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Virtualization/pyobjc_setup.py
+++ pyobjc-framework-Virtualization/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-Vision/pyobjc_setup.py b/pyobjc-framework-Vision/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-Vision/pyobjc_setup.py
+++ pyobjc-framework-Vision/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-WebKit/pyobjc_setup.py b/pyobjc-framework-WebKit/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-WebKit/pyobjc_setup.py
+++ pyobjc-framework-WebKit/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-iTunesLibrary/pyobjc_setup.py b/pyobjc-framework-iTunesLibrary/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-iTunesLibrary/pyobjc_setup.py
+++ pyobjc-framework-iTunesLibrary/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
diff --git pyobjc-framework-libdispatch/pyobjc_setup.py b/pyobjc-framework-libdispatch/pyobjc_setup.py
index 39d9889cb..569e4d275 100644
--- pyobjc-framework-libdispatch/pyobjc_setup.py
+++ pyobjc-framework-libdispatch/pyobjc_setup.py
@@ -446,17 +446,17 @@ def Extension(*args, **kwds):
             cflags.append(data)
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, version.split("."))))
+                % (tuple(map(int, version.split(".")[:2])))
             )
         else:
             cflags.append(
                 "-DPyObjC_BUILD_RELEASE=%02d%02d"
-                % (tuple(map(int, os_level.split("."))))
+                % (tuple(map(int, os_level.split(".")[:2])))
             )
 
     else:
         cflags.append(
-            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split("."))))
+            "-DPyObjC_BUILD_RELEASE=%02d%02d" % (tuple(map(int, os_level.split(".")[:2])))
         )
 
     if os_level == "10.4":
